<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ –ú–µ–∫—Ç–µ–ø –û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä—ã</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #2980b9;
            --accent-color: #27ae60;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --info-color: #3498db;
            --purple-color: #9b59b6;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        body.dark-mode {
            background-color: #121212;
            color: #f5f5f5;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-align: center;
            padding: 40px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 2.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .logo i {
            margin-right: 15px;
            color: var(--accent-color);
            font-size: 2.5rem;
        }
        
        .header-content p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        nav {
            background: var(--dark-color);
            padding: 15px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 15px rgba(0,0,0,0.2);
        }
        
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 10px 18px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            font-size: 1rem;
        }
        
        nav a:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        nav a.active {
            background-color: var(--accent-color);
            box-shadow: 0 4px 8px rgba(39, 174, 96, 0.3);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 30px auto;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            flex: 1;
        }

        body.dark-mode .container {
            background-color: #1e1e1e;
            color: #f5f5f5;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode h2 {
            color: #f5f5f5;
            border-color: var(--accent-color);
        }
        
        .event {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid var(--accent-color);
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        body.dark-mode .event {
            background-color: #2d2d2d;
        }
        
        .event:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .event-header h3 {
            color: var(--primary-color);
            font-size: 1.5rem;
            flex: 1;
        }

        body.dark-mode .event-header h3 {
            color: #f5f5f5;
        }
        
        .event-date {
            background: var(--secondary-color);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .event-image {
            width: 100%;
            height: 250px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .event-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .event:hover .event-image img {
            transform: scale(1.05);
        }
        
        .event-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        body.dark-mode .detail-item {
            background-color: #3d3d3d;
        }
        
        .detail-item i {
            margin-right: 10px;
            color: var(--secondary-color);
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }
        
        .detail-item span {
            font-weight: 500;
        }
        
        .event p {
            margin: 15px 0;
            line-height: 1.7;
            color: #555;
        }

        body.dark-mode .event p {
            color: #ccc;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 48px;
            min-width: 120px;
        }
        
        button i {
            font-size: 1.1rem;
        }
        
        .btn-primary {
            background: var(--accent-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: #2ecc71;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(46, 204, 113, 0.3);
        }
        
        .btn-secondary {
            background: var(--secondary-color);
            color: white;
        }
        
        .btn-secondary:hover {
            background: #3498db;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(52, 152, 219, 0.3);
        }
        
        .btn-danger {
            background: var(--danger-color);
            color: white;
        }
        
        .btn-danger:hover {
            background: #c0392b;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(231, 76, 60, 0.3);
        }
        
        .btn-purple {
            background: var(--purple-color);
            color: white;
        }
        
        .btn-purple:hover {
            background: #8e44ad;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(155, 89, 182, 0.3);
        }
        
        .btn-warning {
            background: var(--warning-color);
            color: white;
        }
        
        .btn-warning:hover {
            background: #e67e22;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(243, 156, 18, 0.3);
        }
        
        footer {
            background: var(--primary-color);
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-top: 50px;
        }
        
        .social-links {
            margin: 25px 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .social-links a {
            color: white;
            font-size: 1.5rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.1);
        }
        
        .social-links a:hover {
            background: var(--accent-color);
            transform: translateY(-5px) scale(1.1);
        }
        
        footer p {
            margin: 10px 0;
            opacity: 0.8;
        }
        
        .form-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-top: 20px;
        }

        body.dark-mode .form-container {
            background-color: #2d2d2d;
        }
        
        .form-container input, 
        .form-container textarea, 
        .form-container select {
            width: 100%;
            padding: 14px;
            margin: 12px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        body.dark-mode .form-container input,
        body.dark-mode .form-container textarea,
        body.dark-mode .form-container select {
            background-color: #3d3d3d;
            color: #f5f5f5;
            border-color: #555;
        }
        
        .form-container input:focus, 
        .form-container textarea:focus, 
        .form-container select:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(41, 128, 185, 0.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: slideDown 0.4s ease;
        }

        body.dark-mode .modal-content {
            background-color: #2d2d2d;
            color: #f5f5f5;
        }
        
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #999;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .close-btn:hover {
            color: var(--danger-color);
        }
        
        .admin-panel {
            margin-top: 20px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        body.dark-mode .admin-panel {
            background-color: #2d2d2d;
        }
        
        .participants-list {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        body.dark-mode .participants-list {
            border-color: #555;
        }
        
        .participant-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            transition: background-color 0.3s ease;
        }

        body.dark-mode .participant-item {
            border-color: #555;
        }
        
        .participant-item:hover {
            background-color: #f5f5f5;
        }

        body.dark-mode .participant-item:hover {
            background-color: #3d3d3d;
        }
        
        .participant-item:last-child {
            border-bottom: none;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        body.dark-mode .stat-card {
            background-color: #2d2d2d;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .stat-card i {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        .stat-card .number {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 10px 0;
        }

        body.dark-mode .stat-card .number {
            color: #f5f5f5;
        }
        
        .stat-card .label {
            color: #666;
            font-size: 0.95rem;
            font-weight: 500;
        }

        body.dark-mode .stat-card .label {
            color: #aaa;
        }
        
        .tab-container {
            margin-top: 20px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 5px;
        }

        body.dark-mode .tabs {
            border-color: #555;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s ease;
            font-weight: 500;
            background: #f8f9fa;
            margin-right: 2px;
        }

        body.dark-mode .tab {
            background-color: #3d3d3d;
        }
        
        .tab:hover {
            background: #e9ecef;
        }

        body.dark-mode .tab:hover {
            background-color: #4d4d4d;
        }
        
        .tab.active {
            background: var(--secondary-color);
            color: white;
            border-bottom: 3px solid var(--accent-color);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .telegram-section {
            margin: 30px 0;
            text-align: center;
        }
        
        .telegram-banner {
            background: linear-gradient(135deg, #0088cc, #34aadc);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .telegram-banner i {
            font-size: 3.5rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .telegram-banner h3 {
            margin-bottom: 10px;
            font-size: 1.8rem;
        }
        
        .telegram-banner p {
            margin-bottom: 20px;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .filter-buttons {
            display: flex;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 10px 20px;
            border: 2px solid var(--secondary-color);
            background: white;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            color: var(--secondary-color);
        }

        body.dark-mode .filter-btn {
            background-color: #2d2d2d;
            color: #f5f5f5;
            border-color: var(--accent-color);
        }
        
        .filter-btn.active {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        body.dark-mode .filter-btn.active {
            background: var(--accent-color);
            border-color: var(--accent-color);
        }
        
        .filter-btn:hover:not(.active) {
            background: #f0f7ff;
            transform: translateY(-2px);
        }

        body.dark-mode .filter-btn:hover:not(.active) {
            background: #3d3d3d;
        }
        
        .dark-mode-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            z-index: 999;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .dark-mode-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .notification-badge {
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            font-size: 0.8rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 5px;
        }
        
        .success-message {
            background: var(--accent-color);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .success-message i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #666;
        }

        body.dark-mode .empty-state {
            color: #aaa;
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #ddd;
        }
        
        .empty-state h3 {
            margin-bottom: 10px;
            color: #555;
        }

        body.dark-mode .empty-state h3 {
            color: #ccc;
        }
        
        .event-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
            vertical-align: middle;
        }
        
        .status-upcoming {
            background: var(--info-color);
            color: white;
        }
        
        .status-ongoing {
            background: var(--accent-color);
            color: white;
        }
        
        .status-completed {
            background: #95a5a6;
            color: white;
        }
        
        .status-urgent {
            background: var(--danger-color);
            color: white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .form-actions button {
            flex: 1;
            min-width: 150px;
        }
        
        .admin-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .admin-controls button {
            flex: 1;
            min-width: 180px;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--secondary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .founder-info {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
        }

        body.dark-mode .founder-info {
            background-color: #2d2d2d;
        }
        
        .founder-info h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .founder-info h3 {
            color: #f5f5f5;
        }
        
        .founder-info p {
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .founder-info i {
            color: var(--secondary-color);
            width: 20px;
        }
        
        .founder-info a {
            color: var(--secondary-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .founder-info a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 20px;
            }
            
            nav a {
                margin: 0 5px;
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .event-details {
                grid-template-columns: 1fr;
            }
            
            .stats-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .event-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .event-date {
                align-self: flex-start;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .button-group button {
                width: 100%;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-radius: 8px;
                margin-bottom: 5px;
            }
            
            .admin-controls {
                flex-direction: column;
            }
            
            .admin-controls button {
                width: 100%;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .form-actions button {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .logo {
                font-size: 1.6rem;
            }
            
            .logo i {
                font-size: 2rem;
            }
            
            .header-content p {
                font-size: 1rem;
            }
            
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .filter-buttons {
                justify-content: center;
            }
            
            .filter-btn {
                flex: 1;
                min-width: 120px;
                text-align: center;
            }
            
            .event-image {
                height: 200px;
            }
            
            .stat-card .number {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-trophy"></i>
                <span>–†–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ –ú–µ–∫—Ç–µ–ø –û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä—ã</span>
            </div>
            <p>–ë—ñ–ª—ñ–º–¥—ñ –∂–∞“£–∞ –¥–µ“£–≥–µ–π–≥–µ –∫”©—Ç–µ—Ä—ñ“£—ñ–∑! –ú–µ–∫—Ç–µ–ø –æ“õ—É—à—ã–ª–∞—Ä—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Ä–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä</p>
        </div>
    </header>
    
    <nav>
        <a href="#events" class="active"><i class="fas fa-calendar-alt"></i> –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä</a>
        <a href="#add-event"><i class="fas fa-plus-circle"></i> –Ü—Å-—à–∞—Ä–∞ “õ–æ—Å—É</a>
        <a href="#admin"><i class="fas fa-user-shield"></i> ”ò–∫—ñ–º—à—ñ–ª—ñ–∫</a>
        <a href="#results"><i class="fas fa-chart-line"></i> –ù”ô—Ç–∏–∂–µ–ª–µ—Ä</a>
        <a href="#contact"><i class="fas fa-envelope"></i> –ë–∞–π–ª–∞–Ω—ã—Å</a>
    </nav>
    
    <div class="container" id="events">
        <h2><i class="fas fa-calendar-check"></i> –ê“ì—ã–º–¥–∞“ì—ã –û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä</h2>
        
        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">–ë–∞—Ä–ª—ã“ì—ã</button>
            <button class="filter-btn" data-filter="olympiad">–û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä</button>
            <button class="filter-btn" data-filter="competition">–ö–æ–Ω–∫—É—Ä—Å—Ç–∞—Ä</button>
            <button class="filter-btn" data-filter="upcoming">–ê–ª–¥–∞“ì—ã</button>
            <button class="filter-btn" data-filter="completed">–ê—è“õ—Ç–∞–ª“ì–∞–Ω</button>
        </div>
        
        <div class="stats-cards">
            <div class="stat-card">
                <i class="fas fa-calendar-day"></i>
                <div class="number" id="total-events">0</div>
                <div class="label">–Ü—Å-—à–∞—Ä–∞–ª–∞—Ä</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-users"></i>
                <div class="number" id="total-participants">0</div>
                <div class="label">“ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-school"></i>
                <div class="number" id="total-schools">0</div>
                <div class="label">–ú–µ–∫—Ç–µ–ø—Ç–µ—Ä</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-trophy"></i>
                <div class="number" id="upcoming-count">0</div>
                <div class="label">–ê–ª–¥–∞“ì—ã —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä</div>
            </div>
        </div>
        
        <div id="events-list">
            <!-- –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä –æ—Å—ã–Ω–¥–∞ –ø–∞–π–¥–∞ –±–æ–ª–∞–¥—ã -->
        </div>
    </div>
    
    <div class="container" id="add-event">
        <h2><i class="fas fa-plus-square"></i> –ñ–∞“£–∞ –Ü—Å-—à–∞—Ä–∞ “ö–æ—Å—É</h2>
        <button class="btn-secondary" id="toggleFormBtn">
            <i class="fas fa-plus"></i> –Ü—Å-—à–∞—Ä–∞ “õ–æ—Å—É —Ñ–æ—Ä–º–∞—Å—ã–Ω –∞—à—É
        </button>
        
        <div class="form-container" id="eventForm" style="display: none;">
            <form id="newEventForm">
                <h3>–Ü—Å-—à–∞—Ä–∞ –∞“õ–ø–∞—Ä–∞—Ç—ã</h3>
                <input type="text" id="eventName" placeholder="–Ü—Å-—à–∞—Ä–∞ –∞—Ç–∞—É—ã" required>
                <input type="date" id="eventDate" required>
                <input type="text" id="eventLocation" placeholder="–û—Ä—ã–Ω" required>
                <select id="eventType" required>
                    <option value="">–Ü—Å-—à–∞—Ä–∞ —Ç“Ø—Ä—ñ–Ω —Ç–∞“£–¥–∞“£—ã–∑</option>
                    <option value="olympiad">–û–ª–∏–º–ø–∏–∞–¥–∞</option>
                    <option value="competition">–ö–æ–Ω–∫—É—Ä—Å</option>
                    <option value="seminar">–°–µ–º–∏–Ω–∞—Ä</option>
                    <option value="conference">–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è</option>
                    <option value="workshop">–°–µ–º–∏–Ω–∞—Ä-–∂–∞—Ç—Ç—ã“ì—É</option>
                </select>
                <textarea id="eventDescription" placeholder="–°–∏–ø–∞—Ç—Ç–∞–º–∞" rows="4" required></textarea>
                <input type="url" id="eventImage" placeholder="–°—É—Ä–µ—Ç URL (–º—ñ–Ω–¥–µ—Ç—Ç—ñ –µ–º–µ—Å)">
                <div class="form-actions">
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i> –Ü—Å-—à–∞—Ä–∞–Ω—ã “õ–æ—Å—É
                    </button>
                    <button type="reset" class="btn-warning">
                        <i class="fas fa-undo"></i> –¢–∞–∑–∞–ª–∞—É
                    </button>
                </div>
            </form>
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle"></i> –Ü—Å-—à–∞—Ä–∞ —Å”ô—Ç—Ç—ñ “õ–æ—Å—ã–ª–¥—ã!
            </div>
        </div>
    </div>
    
    <div class="container" id="admin">
        <h2><i class="fas fa-user-shield"></i> ”ò–∫—ñ–º—à—ñ–ª—ñ–∫ –ü–∞–Ω–µ–ª—ñ</h2>
        
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" data-tab="participants">“ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä</div>
                <div class="tab" data-tab="events">–Ü—Å-—à–∞—Ä–∞–ª–∞—Ä</div>
                <div class="tab" data-tab="export">–≠–∫—Å–ø–æ—Ä—Ç</div>
            </div>
            
            <div class="tab-content active" id="participants-tab">
                <div class="admin-panel">
                    <h3><i class="fas fa-users"></i> –¢—ñ—Ä–∫–µ–ª–≥–µ–Ω “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä</h3>
                    <div class="participants-list" id="participants-list">
                        <!-- “ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="events-tab">
                <div class="admin-panel">
                    <h3><i class="fas fa-calendar-alt"></i> –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä–¥—ã –±–∞—Å“õ–∞—Ä—É</h3>
                    <div class="admin-controls">
                        <button class="btn-primary" onclick="addSampleEvents()">
                            <i class="fas fa-plus"></i> –ú—ã—Å–∞–ª —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä “õ–æ—Å—É
                        </button>
                        <button class="btn-danger" onclick="clearAllEvents()">
                            <i class="fas fa-trash"></i> –ë–∞—Ä–ª—ã“ì—ã–Ω –∂–æ—é
                        </button>
                    </div>
                    <div id="admin-events-list">
                        <!-- –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="export-tab">
                <div class="admin-panel">
                    <h3><i class="fas fa-download"></i> –î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞—É</h3>
                    <div class="button-group">
                        <button class="btn-primary" onclick="exportData('events')">
                            <i class="fas fa-file-export"></i> –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä–¥—ã —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞—É
                        </button>
                        <button class="btn-secondary" onclick="exportData('participants')">
                            <i class="fas fa-user-export"></i> “ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä–¥—ã —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞—É
                        </button>
                        <button class="btn-purple" onclick="exportAllData()">
                            <i class="fas fa-database"></i> –ë–∞—Ä–ª—ã“õ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞—É
                        </button>
                    </div>
                    <div class="success-message" id="exportMessage" style="display: none;">
                        <i class="fas fa-check-circle"></i> –î–µ—Ä–µ–∫—Ç–µ—Ä —Å”ô—Ç—Ç—ñ —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞–ª–¥—ã!
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container" id="results">
        <h2><i class="fas fa-chart-line"></i> –ù”ô—Ç–∏–∂–µ–ª–µ—Ä</h2>
        <div id="results-content">
            <div class="empty-state">
                <i class="fas fa-trophy"></i>
                <h3>–ù”ô—Ç–∏–∂–µ–ª–µ—Ä –∂–∞“õ—ã–Ω –∞—Ä–∞–¥–∞ –∂–∞—Ä–∏—è–ª–∞–Ω–∞–¥—ã</h3>
                <p>–û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä –∞—è“õ—Ç–∞–ª“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω –Ω”ô—Ç–∏–∂–µ–ª–µ—Ä –æ—Å—ã –±”©–ª—ñ–º–¥–µ –∫”©—Ä—Å–µ—Ç—ñ–ª–µ–¥—ñ</p>
            </div>
        </div>
    </div>
    
    <div class="container" id="contact">
        <h2><i class="fas fa-envelope"></i> –ë–∞–π–ª–∞–Ω—ã—Å</h2>
        
        <div class="telegram-section">
            <div class="telegram-banner">
                <i class="fab fa-telegram"></i>
                <h3>–ë—ñ–∑–¥—ñ“£ Telegram –±–æ—Ç—ã–º—ã–∑</h3>
                <p>–û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä —Ç—É—Ä–∞–ª—ã –µ“£ —Å–æ“£“ì—ã –∞“õ–ø–∞—Ä–∞—Ç—Ç—ã –∞–ª—É “Ø—à—ñ–Ω –±—ñ–∑–¥—ñ“£ Telegram –±–æ—Ç—ã–º—ã–∑“ì–∞ “õ–æ—Å—ã–ª—ã“£—ã–∑!</p>
                <button class="btn-primary" id="telegram-btn">
                    <i class="fab fa-telegram"></i> @smart_olimpyada_bot “õ–æ—Å—ã–ª—É
                </button>
            </div>
        </div>
        
        <div class="founder-info">
            <h3><i class="fas fa-user-tie"></i> –ù–µ–≥—ñ–∑—ñ–Ω “õ–∞–ª–∞—É—à—ã</h3>
            <p><i class="fas fa-user"></i> –°–∫–µ–Ω–¥–µ—Ä–æ–≤–∞ –ê—Ä–∞–π</p>
            <p><i class="fas fa-phone"></i> –¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+77767426757">+7-776-742-6757</a></p>
            <p><i class="fas fa-envelope"></i> Email: <a href="mailto:aray.skenderova@mail.ru">aray.skenderova@mail.ru</a></p>
            <p><i class="fas fa-map-marker-alt"></i> –ú–µ–∫–µ–Ω-–∂–∞–π: –ù“±—Ä-–°“±–ª—Ç–∞–Ω “õ–∞–ª–∞—Å—ã</p>
        </div>
    </div>
    
    <footer>
        <div class="social-links">
            <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" title="Facebook"><i class="fab fa-facebook"></i></a>
            <a href="https://t.me/smart_olimpyada_bot" title="Telegram" target="_blank"><i class="fab fa-telegram"></i></a>
            <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
        <p>&copy; 2025 –†–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ –ú–µ–∫—Ç–µ–ø –û–ª–∏–º–ø–∏–∞–¥–∞–ª–∞—Ä—ã. –ë–∞—Ä–ª—ã“õ “õ“±“õ—ã“õ—Ç–∞—Ä “õ–æ—Ä“ì–∞–ª“ì–∞–Ω.</p>
        <p>–î–∞–º—É—à—ã –±—ñ–ª—ñ–º –±–µ—Ä—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Å—ã</p>
    </footer>
    
    <!-- –¢—ñ—Ä–∫–µ–ª—É –º–æ–¥–∞–ª—å–¥—ã —Ç–µ—Ä–µ–∑–µ—Å—ñ -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2><i class="fas fa-user-plus"></i> –¢—ñ—Ä–∫–µ–ª—É</h2>
            <form id="registrationForm">
                <input type="hidden" id="eventIdForRegistration">
                <input type="text" id="participantName" placeholder="–ê—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑" required>
                <input type="email" id="participantEmail" placeholder="–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ –ø–æ—à—Ç–∞" required>
                <input type="tel" id="participantPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ" required>
                <input type="text" id="participantSchool" placeholder="–ú–µ–∫—Ç–µ–ø –∞—Ç–∞—É—ã" required>
                <input type="number" id="participantClass" placeholder="–°—ã–Ω—ã–ø" required min="1" max="11">
                <input type="text" id="participantCity" placeholder="“ö–∞–ª–∞/–ê—É–¥–∞–Ω" required>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-check"></i> –¢—ñ—Ä–∫–µ–ª—É–¥—ñ –∞—è“õ—Ç–∞—É
                    </button>
                    <button type="reset" class="btn-warning">
                        <i class="fas fa-undo"></i> –¢–∞–∑–∞–ª–∞—É
                    </button>
                </div>
            </form>
            <div class="success-message" id="registrationSuccess" style="display: none;">
                <i class="fas fa-check-circle"></i> –°—ñ–∑ —Å”ô—Ç—Ç—ñ —Ç—ñ—Ä–∫–µ–ª–¥—ñ“£—ñ–∑! üéâ –ë—ñ–∑ —Å—ñ–∑–±–µ–Ω –∂–∞“õ—ã–Ω –∞—Ä–∞–¥–∞ –±–∞–π–ª–∞–Ω—ã—Å–∞–º—ã–∑.
            </div>
        </div>
    </div>
    
    <button class="dark-mode-toggle" id="darkModeToggle">
        <i class="fas fa-moon"></i>
    </button>

    <script>
        // –î–µ—Ä–µ–∫—Ç–µ—Ä –±–∞–∑–∞—Å—ã
        let events = [];
        let participants = [];

        // –ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ —Å–∞“õ—Ç–∞—É–¥–∞–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É
        function loadFromLocalStorage() {
            try {
                const savedEvents = localStorage.getItem('olimpiada_events');
                const savedParticipants = localStorage.getItem('olimpiada_participants');
                
                if (savedEvents) {
                    events = JSON.parse(savedEvents);
                }
                
                if (savedParticipants) {
                    participants = JSON.parse(savedParticipants);
                }
            } catch (e) {
                console.log('–ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ –∂“Ø–∫—Ç–µ—É “õ–∞—Ç–µ—Å—ñ:', e);
            }
        }

        // –ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ —Å–∞“õ—Ç–∞—É“ì–∞ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —Å–∞“õ—Ç–∞—É
        function saveToLocalStorage() {
            try {
                localStorage.setItem('olimpiada_events', JSON.stringify(events));
                localStorage.setItem('olimpiada_participants', JSON.stringify(participants));
            } catch (e) {
                console.log('–ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ —Å–∞“õ—Ç–∞—É “õ–∞—Ç–µ—Å—ñ:', e);
            }
        }

        // –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É
        function displayEvents(filter = 'all') {
            const eventsList = document.getElementById('events-list');
            eventsList.innerHTML = '';
            
            if (events.length === 0) {
                eventsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-calendar-times"></i>
                        <h3>“ö–∞–∑—ñ—Ä–≥—ñ —É–∞“õ—ã—Ç—Ç–∞ —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä –∂–æ“õ</h3>
                        <p>–ê–ª–¥—ã–º–µ–Ω –∂–∞“£–∞ —ñ—Å-—à–∞—Ä–∞ “õ–æ—Å—ã“£—ã–∑</p>
                        <button class="btn-primary" onclick="document.querySelector('a[href=\"#add-event\"]').click()">
                            <i class="fas fa-plus"></i> –ñ–∞“£–∞ —ñ—Å-—à–∞—Ä–∞ “õ–æ—Å—É
                        </button>
                    </div>
                `;
                return;
            }
            
            // –°“Ø–∑–≥—ñ–ª–µ—É
            let filteredEvents = events;
            if (filter !== 'all') {
                const today = new Date();
                filteredEvents = events.filter(event => {
                    const eventDate = new Date(event.date);
                    const daysDiff = Math.ceil((eventDate - today) / (1000 * 3600 * 24));
                    
                    if (filter === 'olympiad') return event.type === 'olympiad';
                    if (filter === 'competition') return event.type === 'competition';
                    if (filter === 'upcoming') return daysDiff >= 0;
                    if (filter === 'completed') return daysDiff < 0;
                    return true;
                });
            }
            
            // –ö“Ø–Ω—ñ –±–æ–π—ã–Ω—à–∞ —Å“±—Ä—ã–ø—Ç–∞—É (–µ“£ –∂–∞“õ—ã–Ω –∞–ª–¥—ã–º–µ–Ω)
            filteredEvents.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            filteredEvents.forEach(event => {
                const eventDate = new Date(event.date);
                const today = new Date();
                const daysDiff = Math.ceil((eventDate - today) / (1000 * 3600 * 24));
                
                let status = '–ê–ª–¥–∞“ì—ã';
                let statusClass = 'status-upcoming';
                
                if (daysDiff < 0) {
                    status = '–ê—è“õ—Ç–∞–ª“ì–∞–Ω';
                    statusClass = 'status-completed';
                } else if (daysDiff === 0) {
                    status = '–ë“Ø–≥—ñ–Ω';
                    statusClass = 'status-ongoing';
                } else if (daysDiff <= 3) {
                    status = '–ñ–µ–¥–µ–ª';
                    statusClass = 'status-urgent';
                }
                
                const eventElement = document.createElement('div');
                eventElement.className = 'event';
                eventElement.innerHTML = `
                    <div class="event-header">
                        <h3>${event.name} <span class="event-status ${statusClass}">${status}</span></h3>
                        <div class="event-date">${formatDate(event.date)}</div>
                    </div>
                    ${event.image ? `
                    <div class="event-image">
                        <img src="${event.image}" alt="${event.name}" onerror="this.src='https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'">
                    </div>
                    ` : ''}
                    <div class="event-details">
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>${event.location}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-users"></i>
                            <span>${event.participants || 0} “õ–∞—Ç—ã—Å—É—à—ã</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-tag"></i>
                            <span>${getEventType(event.type)}</span>
                        </div>
                        ${daysDiff > 0 ? `
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>${daysDiff} –∫“Ø–Ω “õ–∞–ª–¥—ã</span>
                        </div>
                        ` : ''}
                    </div>
                    <p>${event.description}</p>
                    <div class="button-group">
                        <button class="btn-primary" onclick="openRegistrationModal(${event.id}, '${event.name.replace(/'/g, "\\'")}')">
                            <i class="fas fa-user-plus"></i> –¢—ñ—Ä–∫–µ–ª—É
                        </button>
                        ${status === '–ê—è“õ—Ç–∞–ª“ì–∞–Ω' ? 
                        `<button class="btn-purple" onclick="showEventResults(${event.id})">
                            <i class="fas fa-chart-bar"></i> –ù”ô—Ç–∏–∂–µ–ª–µ—Ä
                        </button>` : ''}
                        <button class="btn-secondary" onclick="showEventDetails(${event.id})">
                            <i class="fas fa-info-circle"></i> –¢–æ–ª—ã“ì—ã—Ä–∞“õ
                        </button>
                    </div>
                `;
                eventsList.appendChild(eventElement);
            });
            
            updateStats();
        }

        // –Ü—Å-—à–∞—Ä–∞ —Ç—É—Ä–∞–ª—ã —Ç–æ–ª—ã“õ –∞“õ–ø–∞—Ä–∞—Ç
        function showEventDetails(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            const modal = document.getElementById('registrationModal');
            const modalContent = modal.querySelector('.modal-content');
            
            // –§–æ—Ä–º–∞–Ω—ã –∂–∞—Å—ã—Ä—É
            const form = modal.querySelector('form');
            if (form) form.style.display = 'none';
            
            // –ñ–∞“£–∞ –º–∞–∑–º“±–Ω–¥—ã “õ–æ—Å—É
            const detailsDiv = document.createElement('div');
            detailsDiv.className = 'event-details-modal';
            detailsDiv.innerHTML = `
                <h2><i class="fas fa-info-circle"></i> ${event.name}</h2>
                <div class="event">
                    <div class="event-header">
                        <h3>${event.name}</h3>
                        <div class="event-date">${formatDate(event.date)}</div>
                    </div>
                    ${event.image ? `
                    <div class="event-image">
                        <img src="${event.image}" alt="${event.name}">
                    </div>
                    ` : ''}
                    <div class="event-details">
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span><strong>–û—Ä—ã–Ω:</strong> ${event.location}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-users"></i>
                            <span><strong>“ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä:</strong> ${event.participants || 0}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-tag"></i>
                            <span><strong>–¢“Ø—Ä—ñ:</strong> ${getEventType(event.type)}</span>
                        </div>
                    </div>
                    <p><strong>–°–∏–ø–∞—Ç—Ç–∞–º–∞:</strong> ${event.description}</p>
                    <div class="button-group" style="margin-top: 20px;">
                        <button class="btn-primary" onclick="openRegistrationModal(${event.id}, '${event.name.replace(/'/g, "\\'")}')">
                            <i class="fas fa-user-plus"></i> –û—Å—ã —ñ—Å-—à–∞—Ä–∞“ì–∞ —Ç—ñ—Ä–∫–µ–ª—É
                        </button>
                        <button class="btn-secondary" onclick="modal.style.display='none'; detailsDiv.remove(); if(form) form.style.display='block';">
                            <i class="fas fa-times"></i> –ñ–∞–±—É
                        </button>
                    </div>
                </div>
            `;
            
            modalContent.appendChild(detailsDiv);
            modal.style.display = 'block';
            
            // –ñ–∞–±—É —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω “õ–∞–π—Ç–∞ –æ—Ä–Ω–∞—Ç—É
            modal.querySelector('.close-btn').onclick = function() {
                modal.style.display = 'none';
                detailsDiv.remove();
                if (form) form.style.display = 'block';
            };
        }

        // –ö“Ø–Ω–¥—ñ –ø—ñ—à—ñ–º–¥–µ—É
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('kk-KZ', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // –Ü—Å-—à–∞—Ä–∞ —Ç“Ø—Ä—ñ–Ω –∞–ª—É
        function getEventType(type) {
            const types = {
                'olympiad': '–û–ª–∏–º–ø–∏–∞–¥–∞',
                'competition': '–ö–æ–Ω–∫—É—Ä—Å',
                'seminar': '–°–µ–º–∏–Ω–∞—Ä',
                'conference': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è',
                'workshop': '–°–µ–º–∏–Ω–∞—Ä-–∂–∞—Ç—Ç—ã“ì—É'
            };
            return types[type] || type;
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞–Ω—ã –∂–∞“£–∞—Ä—Ç—É
        function updateStats() {
            // –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä —Å–∞–Ω—ã
            document.getElementById('total-events').textContent = events.length;
            
            // “ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä —Å–∞–Ω—ã
            const totalParticipants = participants.length;
            document.getElementById('total-participants').textContent = totalParticipants;
            
            // –ë—ñ—Ä–µ–≥–µ–π –º–µ–∫—Ç–µ–ø—Ç–µ—Ä —Å–∞–Ω—ã
            const uniqueSchools = [...new Set(participants.map(p => p.school))].length;
            document.getElementById('total-schools').textContent = uniqueSchools;
            
            // –ê–ª–¥–∞“ì—ã —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä —Å–∞–Ω—ã
            const today = new Date();
            const upcomingCount = events.filter(event => {
                const eventDate = new Date(event.date);
                return eventDate >= today;
            }).length;
            document.getElementById('upcoming-count').textContent = upcomingCount;
        }

        // “ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É
        function displayParticipants() {
            const participantsList = document.getElementById('participants-list');
            participantsList.innerHTML = '';
            
            if (participants.length === 0) {
                participantsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-slash"></i>
                        <h3>“ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ –±–æ—Å</h3>
                        <p>”ò–ª—ñ –µ—à–∫—ñ–º —Ç—ñ—Ä–∫–µ–ª–º–µ–≥–µ–Ω</p>
                    </div>
                `;
                return;
            }
            
            // –°–æ“£“ì—ã —Ç—ñ—Ä–∫–µ–ª–≥–µ–Ω–¥–µ—Ä –∞–ª–¥—ã–º–µ–Ω
            const sortedParticipants = [...participants].sort((a, b) => 
                new Date(b.registeredAt) - new Date(a.registeredAt)
            );
            
            sortedParticipants.forEach(participant => {
                const participantElement = document.createElement('div');
                participantElement.className = 'participant-item';
                participantElement.innerHTML = `
                    <div>
                        <strong>${participant.name}</strong><br>
                        <small><i class="fas fa-school"></i> ${participant.school}, ${participant.class} —Å—ã–Ω—ã–ø</small><br>
                        <small><i class="fas fa-city"></i> ${participant.city}</small>
                    </div>
                    <div>
                        <small><i class="fas fa-calendar"></i> ${participant.eventName}</small><br>
                        <small><i class="fas fa-clock"></i> ${formatDate(participant.registeredAt)}</small>
                        ${participant.score ? `<br><small><i class="fas fa-star"></i> ${participant.score} “±–ø–∞–π</small>` : ''}
                    </div>
                `;
                participantsList.appendChild(participantElement);
            });
        }

        // ”ò–∫—ñ–º—à—ñ–ª—ñ–∫ —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ–Ω –∫”©—Ä—Å–µ—Ç—É
        function displayAdminEvents() {
            const adminEventsList = document.getElementById('admin-events-list');
            adminEventsList.innerHTML = '';
            
            if (events.length === 0) {
                adminEventsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-calendar-times"></i>
                        <h3>–Ü—Å-—à–∞—Ä–∞–ª–∞—Ä –∂–æ“õ</h3>
                        <p>–ê–ª–¥—ã–º–µ–Ω –∂–∞“£–∞ —ñ—Å-—à–∞—Ä–∞ “õ–æ—Å—ã“£—ã–∑</p>
                    </div>
                `;
                return;
            }
            
            events.forEach(event => {
                const eventDate = new Date(event.date);
                const today = new Date();
                const daysDiff = Math.ceil((eventDate - today) / (1000 * 3600 * 24));
                
                const eventElement = document.createElement('div');
                eventElement.className = 'event';
                eventElement.innerHTML = `
                    <div class="event-header">
                        <h3>${event.name} <small>(ID: ${event.id})</small></h3>
                        <div class="event-date">${formatDate(event.date)}</div>
                    </div>
                    <p>${event.description}</p>
                    <div class="event-details">
                        <div class="detail-item">
                            <i class="fas fa-users"></i>
                            <span>${event.participants || 0} “õ–∞—Ç—ã—Å—É—à—ã</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>${event.location}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-calendar"></i>
                            <span>${daysDiff > 0 ? `${daysDiff} –∫“Ø–Ω “õ–∞–ª–¥—ã` : '–ê—è“õ—Ç–∞–ª–¥—ã'}</span>
                        </div>
                    </div>
                    <div class="button-group">
                        <button class="btn-secondary" onclick="editEvent(${event.id})">
                            <i class="fas fa-edit"></i> ”®–∑–≥–µ—Ä—Ç—É
                        </button>
                        <button class="btn-purple" onclick="viewEventParticipants(${event.id})">
                            <i class="fas fa-users"></i> “ö–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä–¥—ã –∫”©—Ä—É
                        </button>
                        <button class="btn-danger" onclick="deleteEvent(${event.id})">
                            <i class="fas fa-trash"></i> –ñ–æ—é
                        </button>
                    </div>
                `;
                adminEventsList.appendChild(eventElement);
            });
        }

        // –Ü—Å-—à–∞—Ä–∞ “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä—ã–Ω –∫”©—Ä—É
        function viewEventParticipants(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            const eventParticipants = participants.filter(p => p.eventId === eventId);
            
            const modal = document.getElementById('registrationModal');
            const modalContent = modal.querySelector('.modal-content');
            const form = modal.querySelector('form');
            
            if (form) form.style.display = 'none';
            
            const participantsDiv = document.createElement('div');
            participantsDiv.className = 'event-participants-modal';
            
            if (eventParticipants.length > 0) {
                participantsDiv.innerHTML = `
                    <h2><i class="fas fa-users"></i> "${event.name}" “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä—ã</h2>
                    <div class="participants-list">
                        ${eventParticipants.map(p => `
                            <div class="participant-item">
                                <div>
                                    <strong>${p.name}</strong><br>
                                    <small>${p.school}, ${p.class} —Å—ã–Ω—ã–ø</small>
                                </div>
                                <div>
                                    <small>${p.city}</small><br>
                                    <small>${p.score ? `${p.score} “±–ø–∞–π` : '“∞–ø–∞–π –∂–æ“õ'}</small>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="button-group" style="margin-top: 20px;">
                        <button class="btn-primary" onclick="modal.style.display='none'; participantsDiv.remove(); if(form) form.style.display='block';">
                            <i class="fas fa-check"></i> –ñ–∞–±—É
                        </button>
                    </div>
                `;
            } else {
                participantsDiv.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-slash"></i>
                        <h3>–ë“±–ª —ñ—Å-—à–∞—Ä–∞–¥–∞ “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä –∂–æ“õ</h3>
                        <button class="btn-primary" onclick="modal.style.display='none'; participantsDiv.remove(); if(form) form.style.display='block';">
                            <i class="fas fa-check"></i> –ñ–∞–±—É
                        </button>
                    </div>
                `;
            }
            
            modalContent.appendChild(participantsDiv);
            modal.style.display = 'block';
            
            modal.querySelector('.close-btn').onclick = function() {
                modal.style.display = 'none';
                participantsDiv.remove();
                if (form) form.style.display = 'block';
            };
        }

        // –¢—ñ—Ä–∫–µ–ª—É –º–æ–¥–∞–ª—å–¥—ã —Ç–µ—Ä–µ–∑–µ—Å—ñ
        function openRegistrationModal(eventId, eventName) {
            const modal = document.getElementById('registrationModal');
            const modalTitle = modal.querySelector('h2');
            const eventIdInput = document.getElementById('eventIdForRegistration');
            const form = modal.querySelector('form');
            const successMessage = modal.querySelector('.success-message');
            
            // –ï—Å–∫—ñ –º–∞–∑–º“±–Ω–¥—ã –∂–æ—é
            const oldContent = modal.querySelector('.event-details-modal, .event-participants-modal, .results-container');
            if (oldContent) oldContent.remove();
            
            // –§–æ—Ä–º–∞–Ω—ã –∫”©—Ä—Å–µ—Ç—É
            if (form) form.style.display = 'block';
            if (successMessage) successMessage.style.display = 'none';
            
            modalTitle.innerHTML = `<i class="fas fa-user-plus"></i> "${eventName}" —ñ—Å-—à–∞—Ä–∞—Å—ã–Ω–∞ —Ç—ñ—Ä–∫–µ–ª—É`;
            eventIdInput.value = eventId;
            
            modal.style.display = 'block';
            
            // –ñ–∞–±—É —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω –æ—Ä–Ω–∞—Ç—É
            modal.querySelector('.close-btn').onclick = function() {
                modal.style.display = 'none';
            };
            
            // –°—ã—Ä—Ç“õ—ã –±–∞—Å—É –∞—Ä“õ—ã–ª—ã –∂–∞–±—É
            window.onclick = function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            };
        }

        // –Ü—Å-—à–∞—Ä–∞ “õ–æ—Å—É
        function addEvent(eventData) {
            // ID –∞–ª—É
            const newId = events.length > 0 ? Math.max(...events.map(e => e.id)) + 1 : 1;
            
            const newEvent = {
                id: newId,
                name: eventData.name,
                date: eventData.date,
                location: eventData.location,
                type: eventData.type,
                description: eventData.description,
                image: eventData.image || 'https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                participants: 0
            };
            
            events.push(newEvent);
            saveToLocalStorage();
            displayEvents();
            displayAdminEvents();
            
            // –•–∞–±–∞—Ä–ª–∞–º–∞ –∫”©—Ä—Å–µ—Ç—É
            const successMessage = document.getElementById('successMessage');
            successMessage.style.display = 'block';
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 3000);
            
            return newId;
        }

        // –Ü—Å-—à–∞—Ä–∞–Ω—ã ”©–∑–≥–µ—Ä—Ç—É
        function editEvent(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            const newName = prompt('–Ü—Å-—à–∞—Ä–∞–Ω—ã“£ –∂–∞“£–∞ –∞—Ç–∞—É—ã:', event.name);
            if (newName && newName.trim() !== '') {
                event.name = newName.trim();
                
                const newLocation = prompt('–ñ–∞“£–∞ –æ—Ä—ã–Ω:', event.location);
                if (newLocation && newLocation.trim() !== '') {
                    event.location = newLocation.trim();
                }
                
                const newDescription = prompt('–ñ–∞“£–∞ —Å–∏–ø–∞—Ç—Ç–∞–º–∞:', event.description);
                if (newDescription && newDescription.trim() !== '') {
                    event.description = newDescription.trim();
                }
                
                saveToLocalStorage();
                displayEvents();
                displayAdminEvents();
                
                alert('–Ü—Å-—à–∞—Ä–∞ —Å”ô—Ç—Ç—ñ ”©–∑–≥–µ—Ä—Ç—ñ–ª–¥—ñ!');
            }
        }

        // –Ü—Å-—à–∞—Ä–∞–Ω—ã –∂–æ—é
        function deleteEvent(eventId) {
            if (confirm('–Ü—Å-—à–∞—Ä–∞–Ω—ã –∂–æ—é“ì–∞ —Å–µ–Ω—ñ–º–¥—ñ—Å—ñ–∑ –±–µ? –ë“±–ª ”ô—Ä–µ–∫–µ—Ç—Ç—ñ –∫–µ—Ä—ñ “õ–∞–π—Ç–∞—Ä—É –º“Ø–º–∫—ñ–Ω –µ–º–µ—Å.')) {
                // –Ü—Å-—à–∞—Ä–∞–Ω—ã –∂–æ—é
                events = events.filter(e => e.id !== eventId);
                
                // –°–æ–ª —ñ—Å-—à–∞—Ä–∞“ì–∞ —Ç—ñ—Ä–∫–µ–ª–≥–µ–Ω “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä–¥—ã –¥–∞ –∂–æ—é
                participants = participants.filter(p => p.eventId !== eventId);
                
                saveToLocalStorage();
                displayEvents();
                displayParticipants();
                displayAdminEvents();
                
                alert('–Ü—Å-—à–∞—Ä–∞ –∂–æ–π—ã–ª–¥—ã!');
            }
        }

        // –ë–∞—Ä–ª—ã“õ —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä–¥—ã –∂–æ—é
        function clearAllEvents() {
            if (confirm('–ë–∞—Ä–ª—ã“õ —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä–¥—ã –∂–æ—é“ì–∞ —Å–µ–Ω—ñ–º–¥—ñ—Å—ñ–∑ –±–µ? –ë“±–ª ”ô—Ä–µ–∫–µ—Ç—Ç—ñ –∫–µ—Ä—ñ “õ–∞–π—Ç–∞—Ä—É –º“Ø–º–∫—ñ–Ω –µ–º–µ—Å.')) {
                events = [];
                participants = [];
                saveToLocalStorage();
                displayEvents();
                displayParticipants();
                displayAdminEvents();
                
                alert('–ë–∞—Ä–ª—ã“õ —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä –∂–æ–π—ã–ª–¥—ã!');
            }
        }

        // –ú—ã—Å–∞–ª —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä “õ–æ—Å—É
        function addSampleEvents() {
            const sampleEvents = [
                {
                    id: events.length > 0 ? Math.max(...events.map(e => e.id)) + 1 : 1,
                    name: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –û–ª–∏–º–ø–∏–∞–¥–∞—Å—ã",
                    date: "2025-04-15",
                    location: "“ö–∞–∑“∞–£",
                    type: "olympiad",
                    description: "–†–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ –¥–µ“£–≥–µ–π–¥–µ–≥—ñ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –æ–ª–∏–º–ø–∏–∞–¥–∞—Å—ã. 7-11 —Å—ã–Ω—ã–ø –æ“õ—É—à—ã–ª–∞—Ä—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω.",
                    image: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                    participants: 5
                },
                {
                    id: events.length > 0 ? Math.max(...events.map(e => e.id)) + 2 : 2,
                    name: "–ê“ì—ã–ª—à—ã–Ω –¢—ñ–ª—ñ –ö–æ–Ω–∫—É—Ä—Å—ã",
                    date: "2025-04-20",
                    location: "‚Ññ5 –º–µ–∫—Ç–µ–ø",
                    type: "competition",
                    description: "–ê“ì—ã–ª—à—ã–Ω —Ç—ñ–ª—ñ–Ω–¥–µ —Å”©–π–ª–µ—É, –∂–∞–∑—É –∂”ô–Ω–µ —Ç—ã“£–¥–∞–ø —Ç“Ø—Å—ñ–Ω—É –¥–∞“ì–¥—ã–ª–∞—Ä—ã–Ω —Å—ã–Ω–∞–π—Ç—ã–Ω “õ–∞–ª–∞–ª—ã“õ –∫–æ–Ω–∫—É—Ä—Å.",
                    image: "https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                    participants: 3
                },
                {
                    id: events.length > 0 ? Math.max(...events.map(e => e.id)) + 3 : 3,
                    name: "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –ß–µ–º–ø–∏–æ–Ω–∞—Ç—ã",
                    date: "2025-05-10",
                    location: "–ù–∞–∑–∞—Ä–±–∞–µ–≤ –ó–∏—è—Ç–∫–µ—Ä–ª—ñ–∫ –º–µ–∫—Ç–µ–±—ñ",
                    type: "olympiad",
                    description: "–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—É, –∞–ª–≥–æ—Ä–∏—Ç–º–¥–µ—Ä –∂”ô–Ω–µ –ª–æ–≥–∏–∫–∞–ª—ã“õ –æ–π–ª–∞—É –±–æ–π—ã–Ω—à–∞ —Ä–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ —á–µ–º–ø–∏–æ–Ω–∞—Ç.",
                    image: "https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                    participants: 0
                }
            ];
            
            events.push(...sampleEvents);
            saveToLocalStorage();
            displayEvents();
            displayAdminEvents();
            
            alert('3 –º—ã—Å–∞–ª —ñ—Å-—à–∞—Ä–∞ “õ–æ—Å—ã–ª–¥—ã!');
        }

        // –ù”ô—Ç–∏–∂–µ–ª–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É
        function showEventResults(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            const eventParticipants = participants.filter(p => p.eventId === eventId);
            
            const modal = document.getElementById('registrationModal');
            const modalContent = modal.querySelector('.modal-content');
            const form = modal.querySelector('form');
            
            if (form) form.style.display = 'none';
            
            const resultsDiv = document.createElement('div');
            resultsDiv.className = 'results-container';
            
            if (eventParticipants.length > 0) {
                // “∞–ø–∞–π –±–æ–π—ã–Ω—à–∞ —Å“±—Ä—ã–ø—Ç–∞—É
                const sortedParticipants = [...eventParticipants].sort((a, b) => (b.score || 0) - (a.score || 0));
                
                resultsDiv.innerHTML = `
                    <h2><i class="fas fa-trophy"></i> "${event.name}" –Ω”ô—Ç–∏–∂–µ–ª–µ—Ä—ñ</h2>
                    <div class="participants-list">
                        ${sortedParticipants.map((p, index) => `
                            <div class="participant-item">
                                <div>
                                    <strong>${index + 1}. ${p.name}</strong><br>
                                    <small>${p.school}, ${p.class} —Å—ã–Ω—ã–ø</small>
                                </div>
                                <div>
                                    <strong>${p.score || 0} “±–ø–∞–π</strong><br>
                                    <small>${p.city}</small>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="button-group" style="margin-top: 20px;">
                        <button class="btn-primary" onclick="modal.style.display='none'; resultsDiv.remove(); if(form) form.style.display='block';">
                            <i class="fas fa-check"></i> –ñ–∞–±—É
                        </button>
                    </div>
                `;
            } else {
                resultsDiv.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-slash"></i>
                        <h3>–ë“±–ª —ñ—Å-—à–∞—Ä–∞–¥–∞ “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä –∂–æ“õ</h3>
                        <p>–ù”ô—Ç–∏–∂–µ–ª–µ—Ä –∫”©—Ä—Å–µ—Ç—É “Ø—à—ñ–Ω “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä –∂–æ“õ</p>
                        <button class="btn-primary" onclick="modal.style.display='none'; resultsDiv.remove(); if(form) form.style.display='block';">
                            <i class="fas fa-check"></i> –ñ–∞–±—É
                        </button>
                    </div>
                `;
            }
            
            modalContent.appendChild(resultsDiv);
            modal.style.display = 'block';
            
            modal.querySelector('.close-btn').onclick = function() {
                modal.style.display = 'none';
                resultsDiv.remove();
                if (form) form.style.display = 'block';
            };
        }

        // –î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞—É
        function exportData(type) {
            let data, filename;
            
            if (type === 'events') {
                data = events;
                filename = `olimpiada_events_${new Date().toISOString().split('T')[0]}.json`;
            } else {
                data = participants;
                filename = `olimpiada_participants_${new Date().toISOString().split('T')[0]}.json`;
            }
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            URL.revokeObjectURL(url);
            
            const exportMessage = document.getElementById('exportMessage');
            exportMessage.style.display = 'block';
            setTimeout(() => {
                exportMessage.style.display = 'none';
            }, 3000);
        }

        // –ë–∞—Ä–ª—ã“õ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —ç–∫—Å–ø–æ—Ä—Ç—Ç–∞—É
        function exportAllData() {
            const allData = {
                events: events,
                participants: participants,
                exportedAt: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const filename = `olimpiada_all_data_${new Date().toISOString().split('T')[0]}.json`;
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            URL.revokeObjectURL(url);
            
            const exportMessage = document.getElementById('exportMessage');
            exportMessage.style.display = 'block';
            setTimeout(() => {
                exportMessage.style.display = 'none';
            }, 3000);
        }

        // –°“Ø–∑–≥—ñ–ª–µ—É
        function setupFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // –ë–µ–ª—Å–µ–Ω–¥—ñ –∫–ª–∞—Å—Ç—ã ”©–∑–≥–µ—Ä—Ç—É
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –°“Ø–∑–≥—ñ–ª–µ—É
                    const filter = this.getAttribute('data-filter');
                    displayEvents(filter);
                });
            });
        }

        // “ö–∞—Ä–∞“£“ì—ã —Ä–µ–∂–∏–º
        function setupDarkMode() {
            const darkModeToggle = document.getElementById('darkModeToggle');
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            darkModeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                
                if (document.body.classList.contains('dark-mode')) {
                    localStorage.setItem('darkMode', 'true');
                    this.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    localStorage.setItem('darkMode', 'false');
                    this.innerHTML = '<i class="fas fa-moon"></i>';
                }
            });
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function setupNavigation() {
            const navLinks = document.querySelectorAll('nav a');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // –ë–µ–ª—Å–µ–Ω–¥—ñ –∫–ª–∞—Å—Ç—ã ”©–∑–≥–µ—Ä—Ç—É
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –ë”©–ª—ñ–º–≥–µ ”©—Ç—É
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // –¢–∞–±—ã–ª–∞—Ä
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // –ë–µ–ª—Å–µ–Ω–¥—ñ –∫–ª–∞—Å—Ç—ã ”©–∑–≥–µ—Ä—Ç—É
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –ú–∞–∑–º“±–Ω–¥—ã –∫”©—Ä—Å–µ—Ç—É/–∂–∞—Å—ã—Ä—É
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `${tabId}-tab`) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        }

        // Telegram –±–æ—Ç
        function setupTelegramBot() {
            const telegramBtn = document.getElementById('telegram-btn');
            if (telegramBtn) {
                telegramBtn.addEventListener('click', function() {
                    window.open('https://t.me/smart_olimpyada_bot', '_blank');
                });
            }
        }

        // –ë–∞—Å—Ç–∞–ø“õ—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä
        function initializeSampleData() {
            if (events.length === 0) {
                events = [
                    {
                        id: 1,
                        name: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –û–ª–∏–º–ø–∏–∞–¥–∞—Å—ã",
                        date: "2025-04-15",
                        location: "“ö–∞–∑“∞–£",
                        type: "olympiad",
                        description: "–†–µ—Å–ø—É–±–ª–∏–∫–∞–ª—ã“õ –¥–µ“£–≥–µ–π–¥–µ–≥—ñ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –æ–ª–∏–º–ø–∏–∞–¥–∞—Å—ã. 7-11 —Å—ã–Ω—ã–ø –æ“õ—É—à—ã–ª–∞—Ä—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω.",
                        image: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                        participants: 5
                    },
                    {
                        id: 2,
                        name: "–ê“ì—ã–ª—à—ã–Ω –¢—ñ–ª—ñ –ö–æ–Ω–∫—É—Ä—Å—ã",
                        date: "2025-04-20",
                        location: "‚Ññ5 –º–µ–∫—Ç–µ–ø",
                        type: "competition",
                        description: "–ê“ì—ã–ª—à—ã–Ω —Ç—ñ–ª—ñ–Ω–¥–µ —Å”©–π–ª–µ—É, –∂–∞–∑—É –∂”ô–Ω–µ —Ç—ã“£–¥–∞–ø —Ç“Ø—Å—ñ–Ω—É –¥–∞“ì–¥—ã–ª–∞—Ä—ã–Ω —Å—ã–Ω–∞–π—Ç—ã–Ω “õ–∞–ª–∞–ª—ã“õ –∫–æ–Ω–∫—É—Ä—Å.",
                        image: "https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                        participants: 3
                    }
                ];
            }
            
            if (participants.length === 0) {
                participants = [
                    {
                        id: 1,
                        name: "“ö“±—Ä–º–∞–Ω–æ–≤ –ê—Å–ª–∞–Ω",
                        email: "aslan@example.com",
                        phone: "+77771234567",
                        school: "‚Ññ38 –º–µ–∫—Ç–µ–ø",
                        class: "10",
                        city: "–ù“±—Ä-–°“±–ª—Ç–∞–Ω",
                        eventId: 1,
                        eventName: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –û–ª–∏–º–ø–∏–∞–¥–∞—Å—ã",
                        registeredAt: "2025-03-10",
                        score: 95
                    },
                    {
                        id: 2,
                        name: "–û—Ä–∞–∑–±–∞–µ–≤–∞ –ê–π–≥–µ—Ä—ñ–º",
                        email: "aigerim@example.com",
                        phone: "+77772345678",
                        school: "–ù–∞–∑–∞—Ä–±–∞–µ–≤ –º–µ–∫—Ç–µ–±—ñ",
                        class: "11",
                        city: "–ê–ª–º–∞—Ç—ã",
                        eventId: 2,
                        eventName: "–ê“ì—ã–ª—à—ã–Ω –¢—ñ–ª—ñ –ö–æ–Ω–∫—É—Ä—Å—ã",
                        registeredAt: "2025-03-12",
                        score: 88
                    },
                    {
                        id: 3,
                        name: "–ñ“Ø–Ω—ñ—Å–æ–≤ –ë–∞“õ—ã—Ç",
                        email: "bakyt@example.com",
                        phone: "+77773456789",
                        school: "‚Ññ5 –º–µ–∫—Ç–µ–ø",
                        class: "9",
                        city: "–®—ã–º–∫–µ–Ω—Ç",
                        eventId: 1,
                        eventName: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –û–ª–∏–º–ø–∏–∞–¥–∞—Å—ã",
                        registeredAt: "2025-03-05",
                        score: 92
                    }
                ];
            }
        }

        // –ë–∞—Å—Ç–∞–ø“õ—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É
            loadFromLocalStorage();
            
            // –ë–∞—Å—Ç–∞–ø“õ—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ “õ–æ—Å—É (–µ–≥–µ—Ä –∂–æ“õ –±–æ–ª—Å–∞)
            initializeSampleData();
            
            // –î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É
            displayEvents();
            displayParticipants();
            displayAdminEvents();
            
            // –§—É–Ω–∫—Ü–∏—è–ª–∞—Ä–¥—ã —ñ—Å–∫–µ “õ–æ—Å—É
            setupFilters();
            setupDarkMode();
            setupNavigation();
            setupTabs();
            setupTelegramBot();
            
            // –Ü—Å-—à–∞—Ä–∞ “õ–æ—Å—É —Ñ–æ—Ä–º–∞—Å—ã
            const toggleFormBtn = document.getElementById('toggleFormBtn');
            const eventForm = document.getElementById('eventForm');
            
            if (toggleFormBtn && eventForm) {
                toggleFormBtn.addEventListener('click', function() {
                    if (eventForm.style.display === 'none' || eventForm.style.display === '') {
                        eventForm.style.display = 'block';
                        this.innerHTML = '<i class="fas fa-times"></i> –§–æ—Ä–º–∞–Ω—ã –∂–∞–±—É';
                        this.classList.remove('btn-secondary');
                        this.classList.add('btn-warning');
                    } else {
                        eventForm.style.display = 'none';
                        this.innerHTML = '<i class="fas fa-plus"></i> –Ü—Å-—à–∞—Ä–∞ “õ–æ—Å—É —Ñ–æ—Ä–º–∞—Å—ã–Ω –∞—à—É';
                        this.classList.remove('btn-warning');
                        this.classList.add('btn-secondary');
                    }
                });
            }
            
            // –ñ–∞“£–∞ —ñ—Å-—à–∞—Ä–∞ —Ñ–æ—Ä–º–∞—Å—ã
            const newEventForm = document.getElementById('newEventForm');
            if (newEventForm) {
                newEventForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const eventData = {
                        name: document.getElementById('eventName').value,
                        date: document.getElementById('eventDate').value,
                        location: document.getElementById('eventLocation').value,
                        type: document.getElementById('eventType').value,
                        description: document.getElementById('eventDescription').value,
                        image: document.getElementById('eventImage').value || ''
                    };
                    
                    addEvent(eventData);
                    
                    // –§–æ—Ä–º–∞–Ω—ã —Ç–∞–∑–∞–ª–∞—É
                    this.reset();
                    
                    // –§–æ—Ä–º–∞–Ω—ã –∂–∞–±—É
                    if (toggleFormBtn && eventForm) {
                        eventForm.style.display = 'none';
                        toggleFormBtn.innerHTML = '<i class="fas fa-plus"></i> –Ü—Å-—à–∞—Ä–∞ “õ–æ—Å—É —Ñ–æ—Ä–º–∞—Å—ã–Ω –∞—à—É';
                        toggleFormBtn.classList.remove('btn-warning');
                        toggleFormBtn.classList.add('btn-secondary');
                    }
                });
            }
            
            // –¢—ñ—Ä–∫–µ–ª—É —Ñ–æ—Ä–º–∞—Å—ã
            const registrationForm = document.getElementById('registrationForm');
            if (registrationForm) {
                registrationForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const eventId = parseInt(document.getElementById('eventIdForRegistration').value);
                    const event = events.find(e => e.id === eventId);
                    
                    if (!event) {
                        alert('–Ü—Å-—à–∞—Ä–∞ —Ç–∞–±—ã–ª–º–∞–¥—ã!');
                        return;
                    }
                    
                    // –¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ–Ω —Ç–µ–∫—Å–µ—Ä—É
                    const phone = document.getElementById('participantPhone').value;
                    if (!phone.match(/^\+7\d{10}$/)) {
                        alert('–¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ–Ω –¥“±—Ä—ã—Å –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (+7XXXXXXXXXX —Ñ–æ—Ä–º–∞—Ç—Ç–∞)');
                        return;
                    }
                    
                    // –ñ–∞“£–∞ “õ–∞—Ç—ã—Å—É—à—ã
                    const newParticipant = {
                        id: participants.length > 0 ? Math.max(...participants.map(p => p.id)) + 1 : 1,
                        name: document.getElementById('participantName').value,
                        email: document.getElementById('participantEmail').value,
                        phone: phone,
                        school: document.getElementById('participantSchool').value,
                        class: document.getElementById('participantClass').value,
                        city: document.getElementById('participantCity').value,
                        eventId: eventId,
                        eventName: event.name,
                        registeredAt: new Date().toISOString().split('T')[0],
                        score: Math.floor(Math.random() * 30) + 70 // –ö–µ–∑–¥–µ–π—Å–æ“õ “±–ø–∞–π
                    };
                    
                    participants.push(newParticipant);
                    
                    // –Ü—Å-—à–∞—Ä–∞“ì–∞ “õ–∞—Ç—ã—Å—É—à—ã —Å–∞–Ω—ã–Ω “õ–æ—Å—É
                    event.participants = (event.participants || 0) + 1;
                    
                    // –î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —Å–∞“õ—Ç–∞—É
                    saveToLocalStorage();
                    
                    // –ö”©—Ä—Å–µ—Ç—ñ–ª–µ—Ç—ñ–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∂–∞“£–∞—Ä—Ç—É
                    displayEvents();
                    displayParticipants();
                    displayAdminEvents();
                    
                    // –§–æ—Ä–º–∞–Ω—ã —Ç–∞–∑–∞–ª–∞—É
                    this.reset();
                    
                    // –°”ô—Ç—Ç—ñ–ª—ñ–∫ —Ö–∞–±–∞—Ä–ª–∞–º–∞—Å—ã
                    const successMessage = document.getElementById('registrationSuccess');
                    successMessage.style.display = 'block';
                    
                    // –ú–æ–¥–∞–ª—å–¥—ã —Ç–µ—Ä–µ–∑–µ–Ω—ñ –∂–∞–±—É
                    setTimeout(() => {
                        successMessage.style.display = 'none';
                        document.getElementById('registrationModal').style.display = 'none';
                    }, 3000);
                });
                
                // –¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ —Ñ–æ—Ä–º–∞—Ç—ã
                const phoneInput = document.getElementById('participantPhone');
                if (phoneInput) {
                    phoneInput.addEventListener('input', function() {
                        let value = this.value.replace(/\D/g, '');
                        if (value.startsWith('7')) {
                            value = '+' + value;
                        } else if (value.startsWith('8')) {
                            value = '+7' + value.substring(1);
                        } else if (value.length > 0) {
                            value = '+7' + value;
                        }
                        this.value = value.substring(0, 12);
                    });
                }
            }
            
            // –°—É—Ä–µ—Ç—Ç–µ—Ä –∂“Ø–∫—Ç–µ–ª–º–µ–≥–µ–Ω –∂–∞“ì–¥–∞–π–¥–∞ “õ–æ–ª–¥–∞—É –∫”©—Ä—Å–µ—Ç–∫—ñ—à—ñ
            document.addEventListener('error', function(e) {
                if (e.target.tagName === 'IMG') {
                    e.target.src = 'https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80';
                }
            }, true);
        });
    </script>
</body>
</html>
